{"version":3,"sources":["webpack:///webpack/bootstrap f2be000b272777c33bf7","webpack:///./development/js/frontend.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","Garnish","$doc","ready","QarrTabs","$","on","e","preventDefault","that","this","payload","id","data","type","QARR","csrfTokenName","csrfTokenValue","post","actionUrl","response","textStatus","jqXHR","success","parent","html","removeClass","rating","addClass","prevAll","val","qarrPaginations","forEach","el","QarrPagination","target","questionId","authorName","authorId","QarrAnswerHud","qarrFilterItem","total","QarrStarFilterEntries","$loader","$container","value","limit","elementId","setTimeout","template","entrySetId","attr","$entrySet","animate","scrollTop","offset","top","hide","window","localStorage","setItem"],"mappings":"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","file":"/release/src/web/assets/js/frontend.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f2be000b272777c33bf7","Garnish.$doc.ready(function() {\n\n    // ~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    // Tabs\n    // ~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    new QarrTabs('#qarr-display-container');\n\n    // ~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    // Report Abuse\n    // TODO: this needs to work for ajax pagination as well\n    // ~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    $('.qarr-entry-ra-btn').on('click', function (e) {\n        e.preventDefault();\n        let that = $(this);\n\n        let payload = {\n            id: $(this).data('element-id'),\n            type: $(this).data('type')\n        };\n\n        data[QARR.csrfTokenName] = QARR.csrfTokenValue;\n\n        $.post(QARR.actionUrl + 'qarr/elements/report-abuse', payload, function (response, textStatus, jqXHR) {\n            if (response.success) {\n                that.parent().html('<span>Reported</span>');\n            }\n        });\n    });\n\n    // ~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    // Star Changer\n    // ~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    $('.qarr-star:not(.static)').on('click', function () {\n        $('.qarr-star').removeClass('selected');\n        $('.qarr-star').removeClass('active');\n\n        let rating = $(this).data('star-count');\n        $(this).addClass('selected');\n        $(this).prevAll().addClass('active');\n\n        $('#qarr-rating-input').val(rating);\n    });\n\n    // ~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    // Pagination\n    // ~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    let qarrPaginations = $('.qarr-pagination');\n    [].forEach.call(qarrPaginations, function (el) {\n        new QarrPagination(el);\n    });\n\n    // ~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    // Questions\n    // ~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    $('.add-answer').on('click', function(e) {\n        e.preventDefault();\n\n        let payload = {\n            target: $(this),\n            questionId: $(this).data('id'),\n            authorName: $(this).data('user-name'),\n            authorId: $(this).data('user-id')\n        };\n\n        let answerHud = new QarrAnswerHud(payload);\n    });\n\n    // ~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    // Star Filter\n    // ~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    let qarrFilterItem = $('.qarr-filter-item');\n    [].forEach.call(qarrFilterItem, function (el) {\n        let payload = {\n            target: $(el),\n            type: $(el).data('type'),\n            rating: $(el).data('rating'),\n            total: $(el).data('total-entries')\n        };\n        new QarrStarFilterEntries(payload);\n    });\n\n    // Sort Filter\n    $('.qarr-entry-sort').on('change', function(e) {\n        let $loader = $('.qarr-loader');\n        let $container = $('#qarr-' + $(this).data('type') + '-container');\n        let value = $(this).val();\n        let type = $(this).data('type');\n\n        $loader.addClass('active');\n        $container.addClass('transition');\n\n        let payload = {\n            value: value,\n            type: type,\n            limit: QARR.limit,\n            elementId: QARR.elementId\n        };\n\n        payload[QARR.csrfTokenName] = QARR.csrfTokenValue;\n\n        $.post(QARR.actionUrl + 'qarr/elements/query-sort-elements', payload, function (response, textStatus, jqXHR) {\n            if (response.success) {\n                setTimeout(function () {\n                    $loader.removeClass('active');\n                    $container.html(response.template);\n                    let entrySetId = $(response.template).attr('id');\n                    let $entrySet = $('#' + entrySetId);\n\n                    $('html, body').animate({\n                        scrollTop: $entrySet.offset().top\n                    }, 'fast');\n\n                    $container.removeClass('transition');\n                    // TODO: add dynamic pagination\n                    $('.qarr-pagination').hide();\n                }, 1000);\n\n                // Set localstorage for clicked star rating\n                window.localStorage.setItem('qarr-sort-filter-type', type);\n                window.localStorage.setItem('qarr-sort-filter-value', value);\n            }\n        });\n    });\n\n    // $('.qarr-filter-item').on('click', function(e) {\n    //     e.preventDefault();\n    //\n    //     let payload = {\n    //         target: $(this),\n    //         type: $(this).data('type'),\n    //         rating: $(this).data('rating'),\n    //         total: $(this).data('total-entries')\n    //     };\n    //\n    //     payload[QARR.csrfTokenName] = QARR.csrfTokenValue;\n    //\n    //\n    //     $.post(QARR.actionUrl + 'qarr/elements/get-filtered-items', payload, function (response, textStatus, jqXHR) {\n    //         if (response.success) {\n    //             that.parent().html('<span>Reported</span>');\n    //         }\n    //     });\n    // });\n\n});\n\n\n// WEBPACK FOOTER //\n// ./development/js/frontend.js"],"sourceRoot":""}