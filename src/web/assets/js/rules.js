Garnish.$doc.ready(function(){if($("#rule-data").length>0){var e=document.getElementById("rule-data"),t=new Tagify(e);t.DOM.input.classList.add("tagify__input--outside"),t.DOM.scope.parentNode.insertBefore(t.DOM.input,t.DOM.scope),document.querySelector(".tags--removeAllBtn").addEventListener("click",function(e){t.removeAllTags(),$(".tags--removeAllBtn").addClass("btn-disabled")}.bind(t)),t.on("add",function(e){t.value.length>0&&$(".tags--removeAllBtn").removeClass("btn-disabled")}),t.on("remove",function(e){0===t.value.length&&$(".tags--removeAllBtn").addClass("btn-disabled")})}$("#delete-rule").on("click",function(e){e.preventDefault();var t={id:$(this).data("id")},n=Craft.t("qarr","Deleting this rule will also remove all its flagged entries?");new QarrPrompt(n,null).on("response",function(e){var n=this;e&&"ok"===e.response&&Craft.postActionRequest("qarr/rules/delete",t,$.proxy(function(e,t){e.success&&setTimeout($.proxy(function(){Craft.cp.displayNotice(Craft.t("qarr","Rule deleted, redirecting...")),setTimeout($.proxy(function(){Craft.redirectTo(Craft.getCpUrl()+"/qarr/rules")},this),1e3)},n),1e3)},this))})})});
