Garnish.$doc.ready(function(){new QarrTabs("#qarr-display-container"),$(".qarr-entry-ra-btn").on("click",function(t){t.preventDefault();var a=$(this),e={id:$(this).data("element-id"),type:$(this).data("type")};data[QARR.csrfTokenName]=QARR.csrfTokenValue,$.post(QARR.actionUrl+"qarr/elements/report-abuse",e,function(t,e,r){t.success&&a.parent().html("<span>Reported</span>")})}),$(".qarr-star:not(.static)").on("click",function(){$(".qarr-star").removeClass("selected"),$(".qarr-star").removeClass("active");var t=$(this).data("star-count");$(this).addClass("selected"),$(this).prevAll().addClass("active"),$("#qarr-rating-input").val(t)});var t=$(".qarr-pagination");[].forEach.call(t,function(t){new QarrPagination(t)}),$(".add-answer").on("click",function(t){t.preventDefault();var a={target:$(this),questionId:$(this).data("id"),authorName:$(this).data("user-name"),authorId:$(this).data("user-id")};new QarrAnswerHud(a)});var a=$(".qarr-filter-item");[].forEach.call(a,function(t){var a={target:$(t),type:$(t).data("type"),rating:$(t).data("rating"),total:$(t).data("total-entries")};new QarrStarFilterEntries(a)}),$(".qarr-entry-sort").on("change",function(t){var a=$(".qarr-loader"),e=$("#qarr-"+$(this).data("type")+"-container"),r=$(this).val(),n=$(this).data("type");a.addClass("active"),e.addClass("transition");var s={value:r,type:n,limit:QARR.limit,elementId:QARR.elementId};s[QARR.csrfTokenName]=QARR.csrfTokenValue,$.post(QARR.actionUrl+"qarr/elements/query-sort-elements",s,function(t,s,i){t.success&&(setTimeout(function(){a.removeClass("active"),e.html(t.template);var r=$(t.template).attr("id"),n=$("#"+r);$("html, body").animate({scrollTop:n.offset().top},"fast"),e.removeClass("transition"),$(".qarr-pagination").hide()},1e3),window.localStorage.setItem("qarr-sort-filter-type",n),window.localStorage.setItem("qarr-sort-filter-value",r))})})});
