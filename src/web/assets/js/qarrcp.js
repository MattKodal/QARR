var QarrCP=Garnish.Base.extend({$navContainer:null,$navIcon:null,$navLabel:null,$navLabelBadge:null,navIconSvg:null,totalPending:null,init:function(){this.$navContainer=$("#nav-qarr"),this.$navIcon=this.$navContainer.find(".icon"),this.$navLabel=this.$navContainer.find(".label"),this.navIconSvg=this.$navIcon.find("svg"),this.$navLabel.append($('<span class="qarr-pending-count-badge">0</span>')),this.$navLabelBadge=this.$navLabel.find("span"),this._getPendingEntries()},handleResponse:function(n){this.totalPending=n.totalPending,this.$navLabelBadge.html(this.totalPending)},updatedPendingCounter:function(n){this.totalPending=n,this.$navLabelBadge.html(n)},_getPendingEntries:function(){var n=this;Craft.postActionRequest("qarr/elements/check-pending",$.proxy(function(a,t){a.success&&n.handleResponse(a)},this))}});Garnish.$doc.ready(function(){window.qarrnav=new QarrCP});
