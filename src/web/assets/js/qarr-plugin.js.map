{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./development/js/qarr-plugin.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","this","QarrPlugin","qarrplugin","arguments","_typeof","options","source","properties","extendDefaults","target","init","QarrTabs","$","on","e","preventDefault","that","payload","id","data","type","QARR","csrfTokenName","csrfTokenValue","post","actionUrl","response","textStatus","jqXHR","success","parent","html","removeClass","rating","addClass","prevAll","val","qarrPaginations","forEach","el","QarrPagination","questionId","authorName","authorId","QarrAnswerHud","qarrFilterItem","total","QarrStarFilterEntries","$loader","$container","limit","elementId","setTimeout","template","entrySetId","attr","$entrySet","animate","scrollTop","offset","top","hide","window","localStorage","setItem"],"mappings":"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","file":"/release/src/web/assets/js/qarr-plugin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","(function () {\n    this.QarrPlugin = function () {\n        this.qarrplugin = null\n\n        let defaults = {\n            target: '#qarr-display-container'\n        }\n\n        if (arguments[0] && typeof arguments[0] === \"object\") {\n            this.options = extendDefaults(defaults, arguments[0]);\n        }\n    }\n\n    // Utility method to extend defaults\n    function extendDefaults(source, properties) {\n        let property;\n        for (property in properties) {\n            if (properties.hasOwnProperty(property)) {\n                source[property] = properties[property];\n            }\n        }\n        return source;\n    }\n\n    QarrPlugin.prototype.init = function () {\n        // Initialize plugin methods\n        new QarrTabs('#qarr-display-container')\n\n        // ~~~~~~~~~~~~~~~~~~~~~~~~~~~\n        // Report Abuse\n        // TODO: this needs to work for ajax pagination as well\n        // ~~~~~~~~~~~~~~~~~~~~~~~~~~~\n        $('.qarr-entry-ra-btn').on('click', function (e) {\n            e.preventDefault();\n            let that = $(this);\n\n            let payload = {\n                id: $(this).data('element-id'),\n                type: $(this).data('type')\n            };\n\n            payload[QARR.csrfTokenName] = QARR.csrfTokenValue;\n\n            $.post(QARR.actionUrl + 'qarr/elements/report-abuse', payload, function (response, textStatus, jqXHR) {\n                if (response.success) {\n                    that.parent().html('<span>Reported</span>');\n                }\n            });\n        });\n\n        // ~~~~~~~~~~~~~~~~~~~~~~~~~~~\n        // Star Changer\n        // ~~~~~~~~~~~~~~~~~~~~~~~~~~~\n        $('.qarr-star:not(.static)').on('click', function () {\n            $('.qarr-star').removeClass('selected');\n            $('.qarr-star').removeClass('active');\n\n            let rating = $(this).data('star-count');\n            $(this).addClass('selected');\n            $(this).prevAll().addClass('active');\n\n            $('#qarr-rating-input').val(rating);\n        });\n\n        // ~~~~~~~~~~~~~~~~~~~~~~~~~~~\n        // Pagination\n        // ~~~~~~~~~~~~~~~~~~~~~~~~~~~\n        let qarrPaginations = $('.qarr-pagination');\n        [].forEach.call(qarrPaginations, function (el) {\n            new QarrPagination(el);\n        });\n\n        // ~~~~~~~~~~~~~~~~~~~~~~~~~~~\n        // Questions\n        // ~~~~~~~~~~~~~~~~~~~~~~~~~~~\n        $('.add-answer').on('click', function (e) {\n            e.preventDefault();\n\n            let payload = {\n                target: $(this),\n                questionId: $(this).data('id'),\n                authorName: $(this).data('user-name'),\n                authorId: $(this).data('user-id')\n            };\n\n            let answerHud = new QarrAnswerHud(payload);\n        });\n\n        // ~~~~~~~~~~~~~~~~~~~~~~~~~~~\n        // Star Filter\n        // ~~~~~~~~~~~~~~~~~~~~~~~~~~~\n        let qarrFilterItem = $('.qarr-filter-item');\n        [].forEach.call(qarrFilterItem, function (el) {\n            let payload = {\n                target: $(el),\n                type: $(el).data('type'),\n                rating: $(el).data('rating'),\n                total: $(el).data('total-entries')\n            };\n            new QarrStarFilterEntries(payload);\n        });\n\n        // Sort Filter\n        $('.qarr-entry-sort').on('change', function (e) {\n            let $loader = $('.qarr-loader');\n            let $container = $('#qarr-' + $(this).data('type') + '-container');\n            let value = $(this).val();\n            let type = $(this).data('type');\n\n            $loader.addClass('active');\n            $container.addClass('transition');\n\n            let payload = {\n                value: value,\n                type: type,\n                limit: QARR.limit,\n                elementId: QARR.elementId\n            };\n\n            payload[QARR.csrfTokenName] = QARR.csrfTokenValue;\n\n            $.post(QARR.actionUrl + 'qarr/elements/query-sort-elements', payload, function (response, textStatus, jqXHR) {\n                if (response.success) {\n                    setTimeout(function () {\n                        $loader.removeClass('active');\n                        $container.html(response.template);\n                        let entrySetId = $(response.template).attr('id');\n                        let $entrySet = $('#' + entrySetId);\n\n                        $('html, body').animate({\n                            scrollTop: $entrySet.offset().top\n                        }, 'fast');\n\n                        $container.removeClass('transition');\n                        // TODO: add dynamic pagination\n                        $('.qarr-pagination').hide();\n                    }, 1000);\n\n                    // Set localstorage for clicked star rating\n                    window.localStorage.setItem('qarr-sort-filter-type', type);\n                    window.localStorage.setItem('qarr-sort-filter-value', value);\n                }\n            });\n        });\n    }\n}())"],"sourceRoot":""}